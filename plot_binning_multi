import pandas as pd
import matplotlib.pyplot as plt
from matplotlib import rc
import numpy as np
import math
rc('font',**{'family':'serif','serif':['Times'], 'size': 14})
rc('figure', **{'figsize': (6, 4)})


df1 = pd.read_csv('profiling_result/resnet18_1.csv')

#df3 = pd.read_csv('profiling_result/resnet18.csv')

fig, axs = plt.subplots(1, 1, figsize=(5, 4))


# get the min and max values of the 'duration' column
min_duration = df1['Duration (us)'].min()
max_duration = df1['Duration (us)'].max()

# divide the range of 'duration' into 20 bins
bins = np.linspace(min_duration, max_duration, num=20)

# Set up the histogram parameters
bin_size = 20
bin_range = (0, 100)

# Plot the histograms for each file on a different subplot

axs.hist(df1['Duration (us)'], bins=bins, color=f'C{1}')
axs.set_title('ResNet18: Histogram of the layer duration')

# Set the# x and y axis labels and title for the overall figure
#fig.text(0.5, 0.04, 'Duration', ha='center')
#fig.text(0.04, 0.5, 'Frequency', va='center', rotation='vertical')


# Show the plot
plt.ylabel("Frequency")
plt.xlabel("Duration")
plt.tight_layout()
plt.savefig("res18_dist.pdf",dpi = 600)





